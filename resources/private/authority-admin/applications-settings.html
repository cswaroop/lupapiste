<!DOCTYPE html>
<html>
<body>
  <section class="page" id="applications">
    <navi-sidebar></navi-sidebar>
    <div class="container container--authority-admin"
         data-bind="css: lupapisteApp.services.naviSidebarService.containerCss">

      <section>
        <h2 data-bind="ltext: 'auth-admin.required-fields-obligatory.title'"></h2>
        <toggle params="value: organization.appRequiredFieldsFillingObligatory,
                                ltext: 'auth-admin.required-fields-obligatory.enabled',
                                prefix: 'blockbox',
                                enable: lupapisteApp.models.globalAuthModel.ok('set-organization-app-required-fields-filling-obligatory'),
                                testId: 'required-fields-obligatory-enabled'"></toggle>
      </section>

      <section>
        <h2 data-bind="ltext: 'auth-admin.automatic-ok-for-attachments.title'"></h2>
        <div class="blockbox-wrapper" data-test-id="automatic-ok-wrapper">
          <input type="checkbox" id="automatic-ok-for-attachments-enabled" data-test-id="automatic-ok-for-attachments-enabled"
                 data-bind="checked: organization.automaticOkForAttachments, enable: lupapisteApp.models.globalAuthModel.ok('set-automatic-ok-for-attachments')"/>
          <label for="automatic-ok-for-attachments-enabled" class="blockbox-label" data-bind="ltext: 'auth-admin.automatic-ok-for-attachments.enabled'"></label>
        </div>
      </section>

      <section>
        <h2 data-bind="ltext: 'auth-admin.extended-construction-waste-report.title'"></h2>
        <toggle params="value: organization.extendedConstructionWasteReportEnabled,
                        ltext: 'auth-admin.extended-construction-waste-report.enabled',
                        prefix: 'blockbox',
                        enable: lupapisteApp.models.globalAuthModel.ok('set-organization-extended-construction-waste-report'),
                        testId: 'extended-construction-waste-report-enabled'"></toggle>
      </section>

      <section>
        <h2 data-bind="ltext: 'auth-admin.multiple-operations-support.title'"></h2>
        <toggle params="value: organization.multipleOperationsSupported,
                        ltext: 'auth-admin.multiple-operations-support.enabled',
                        prefix: 'blockbox',
                        enable: lupapisteApp.models.globalAuthModel.ok('set-organization-multiple-operations-support'),
                        testId: 'multiple-operations-support-enabled'"></toggle>
      </section>

      <section>
        <h2 data-bind="ltext: 'auth-admin.organization-name'"></h2>
        <!-- ko if: lupapisteApp.models.currentUser.loaded() -->
        <div data-bind="component: 'organization-name-editor'"></div>
        <!-- /ko -->
      </section>

      <section>
        <h2 data-bind="ltext: 'auth-admin.tags'"></h2>
        <!-- ko if: lupapisteApp.models.currentUser.loaded() -->
        <div data-bind="component: 'tags-editor'"></div>
        <!-- /ko -->
      </section>

      <section>
        <h2 data-bind="ltext: 'auth-admin.inspection-summaries'"></h2>
        <div class="blockbox-wrapper">
          <input type="checkbox" id="inspection-summaries-enabled" data-test-id="inspection-summaries-enabled"
               data-bind="checked: organization.inspectionSummariesEnabled, enable: lupapisteApp.models.globalAuthModel.ok('set-organization-inspection-summaries')" />
          <label for="inspection-summaries-enabled" class="blockbox-label" data-bind="ltext: 'auth-admin.inspection-summaries.enabled'"></label>
        </div>
          <!-- ko if: organization.inspectionSummariesEnabled -->
          <h3 data-bind="ltext: 'auth-admin.inspection-summaries.subtitle'" class="top-marginM  "></h3>
          <div data-bind="component: 'inspection-summary-templates-list'"></div>
          <!-- /ko -->
      </section>

      <section>
        <h2 data-bind="ltext: 'auth-admin.email-notifications'"></h2>
        <p data-bind="lhtml: 'auth-admin.email-notifications.info'"></p>

        <table class="admin-settings">
          <thead>
            <tr>
              <th data-bind="ltext: 'auth-admin.email-notifications.param-name'"></th>
              <th data-bind="ltext: 'auth-admin.email-notifications.param-value'"></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-bind="ltext: 'auth-admin.email-notifications.neighbor'"></td>
              <td class="value">
                <input data-test-id="neighborOrderEmails" type="text" data-bind="value: organization.neighborOrderEmails, enable: lupapisteApp.models.globalAuthModel.ok('set-organization-neighbor-order-email')" />
              </td>
            </tr>
            <tr data-test-id="onSubmitEmails-row">
              <td data-bind="ltext: 'auth-admin.email-notifications.submit'"></td>
              <td class="value">
                <input data-test-id="onSubmitEmails" type="text" data-bind="value: organization.submitNotificationEmails, enable: lupapisteApp.models.globalAuthModel.ok('set-organization-submit-notification-email')" />
              </td>
            </tr>
            <tr>
              <td data-bind="ltext: 'auth-admin.email-notifications.inforequest'"></td>
              <td class="value">
                <input type="text" data-bind="value: organization.infoRequestNotificationEmails, enable: lupapisteApp.models.globalAuthModel.ok('set-organization-inforequest-notification-email')" />
              </td>
            </tr>
            <tr>
              <td data-bind="ltext: 'auth-admin.email-notifications.funding'"></td>
              <td class="value">
                <input data-test-id="fundingEmails" type="text" data-bind="value: organization.fundingNotificationEmails, enable: lupapisteApp.models.globalAuthModel.ok('set-organization-funding-enabled-notification-email')" />
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- ko if: organization.permanentArchiveEnabled -->
      <section>
        <h2 data-bind="ltext: 'authorityAdmin.archive.heading'"></h2>
        <div class="permanent-archive-date-input">
          <span for="archiving-start-date" data-bind="ltext: 'authorityAdmin.archive.startDate'"></span>
          <input data-bind="datepicker: organization.permanentArchiveInUseSince,
                            valueUpdate: 'afterkeydown',
                            enable: $root.authorization.ok('set-organization-permanent-archive-start-date'),
                            attr: {placeholder: loc('choose')}"
                 type="text"
                 id="archiving-start-date"
                 class="form-input inline textinput textinput--big">
        </div>
      </section>
      <!-- /ko -->

    </didiv> <!-- container -->
  </section>
</body>
</html>
